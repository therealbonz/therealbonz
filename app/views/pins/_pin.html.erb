<div id="<%= dom_id(pin) %>" class="pin">
  <div class="grid" data-masonry='{ "itemSelector": ".grid-item", "columnWidth": 150, "gutter": 10 }'>
    <% if pin.images.count == 1 %>
      <div class="single-image-container">
        <%= link_to pin do %>
          <div class="grid-item single-image">
            <p class="text-center text-warning bg-white border border-dark">
              <%= image_tag(pin.images.first.variant(resize_to_limit: [150, 300])) %>
            </p>
          </div>
        <% end %>
      </div>
    <% else %>
      <% pin.images.each do |image| %>
        <%= link_to pin do %>
          <div class="grid-item">
            <p class="text-center text-warning bg-white border border-dark">
              <%= image_tag(image.variant(resize_to_limit: [150, 300])) %>
            </p>
          </div>
        <% end %>
      <% end %>
    <% end %>
  </div>
</div>

<style>
  .pin {
    margin-bottom: 20px;
  }

  .grid-item {
    margin-bottom: 10px;
  }

  .single-image-container {
    display: flex;
    justify-content: center;
  }

  .single-image {
    width: 100%;
  }

  .text-center {
    text-align: center;
  }

  .text-warning {
    color: #ffc107;
  }

  .bg-white {
    background-color: #fff;
  }

  .border {
    border: 1px solid #000;
  }

  .border-dark {
    border-color: #343a40;
  }
</style>

